apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: digital-forest-cards-site
spec:
  bucketName: digital-forest-cards-site
  storageClassName: rook-ceph-hasadna-bucket
  additionalConfig:
    bucketPolicy: |
      {
          "Version": "2012-10-17",
          "Statement": [
              {
                  "Effect": "Allow",
                  "Principal": {
                      "AWS": "arn:aws:iam:::user/digital-forest-cards-site-user"
                  },
                  "Action": [
                      "s3:GetObject",
                      "s3:PutObject",
                      "s3:DeleteObject",
                      "s3:ListBucket",
                      "s3:ListObject",
                      "s3:GetBucketLocation"
                  ],
                  "Resource": [
                      "arn:aws:s3:::digital-forest-cards-site",
                      "arn:aws:s3:::digital-forest-cards-site/*"
                  ]
              }
          ]
      }
---
apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
  name: digital-forest-cards-site-user
spec:
  store: hasadna
  clusterNamespace: rook-ceph
  displayName: digital-forest-cards-site-user
